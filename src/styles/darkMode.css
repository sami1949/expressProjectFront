/* Global Dark Mode Styles - Applied to all components */
/* This approach preserves existing styles while adding dark mode support */

/* Dark mode variables */
body.dark-mode {
  /* Brand Colors - Adjusted for Dark Mode with Purple Theme */
  --dm-primary: #a78bfa;
  --dm-primary-dark: #8b5cf6;
  --dm-primary-light: #c4b5fd;
  --dm-secondary: #d8b4fe;
  --dm-accent: #a5b4fc;
  
  /* Background Colors */
  --dm-background: #0f172a;
  --dm-card-bg: #1e293b;
  --dm-card-hover: #334155;
  
  /* Text Colors - All Purple/Violet in Dark Mode */
  --dm-text: #e2e8f0;
  --dm-text-secondary: #c7d2fe;
  --dm-text-light: #a5b4fc;
  --dm-text-white: #ffffff;
  
  /* Border & Shadows */
  --dm-border: #334155;
  --dm-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.2);
  
  /* Set base colors */
  background-color: var(--dm-background) !important;
  color: var(--dm-text) !important;
}

/* Ensure all text elements use the dark mode text colors */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6 {
  color: var(--dm-text) !important;
}

body.dark-mode p,
body.dark-mode span,
body.dark-mode div,
body.dark-mode li,
body.dark-mode td,
body.dark-mode th,
body.dark-mode label,
body.dark-mode strong,
body.dark-mode em {
  color: var(--dm-text) !important;
}

body.dark-mode .text-secondary {
  color: var(--dm-text-secondary) !important;
}

body.dark-mode .text-light {
  color: var(--dm-text-light) !important;
}

/* Form elements */
body.dark-mode input,
body.dark-mode textarea,
body.dark-mode select,
body.dark-mode button {
  background-color: var(--dm-card-bg) !important;
  color: var(--dm-text) !important;
  border-color: var(--dm-border) !important;
}

body.dark-mode input::placeholder,
body.dark-mode textarea::placeholder {
  color: var(--dm-text-light) !important;
}

/* Links */
body.dark-mode a {
  color: var(--dm-primary) !important;
}

body.dark-mode a:hover {
  color: var(--dm-primary-dark) !important;
}

/* Buttons */
body.dark-mode .btn,
body.dark-mode button {
  color: var(--dm-text-white) !important;
  border-color: var(--dm-primary) !important;
}

body.dark-mode .btn-primary {
  background: linear-gradient(135deg, var(--dm-primary) 0%, var(--dm-primary-dark) 100%) !important;
  box-shadow: 0 4px 15px rgba(167, 139, 250, 0.4) !important;
}

body.dark-mode .btn-primary:hover {
  box-shadow: 0 6px 20px rgba(167, 139, 250, 0.6) !important;
}

body.dark-mode .btn-outline {
  background: transparent !important;
  border-color: var(--dm-primary) !important;
  color: var(--dm-primary) !important;
}

body.dark-mode .btn-outline:hover {
  background: var(--dm-primary) !important;
  color: var(--dm-text-white) !important;
}

body.dark-mode .btn-secondary {
  background: linear-gradient(135deg, var(--dm-secondary) 0%, #f5576c 100%) !important;
}

/* Cards */
body.dark-mode .card,
body.dark-mode .navbar,
body.dark-mode .user-dropdown,
body.dark-mode .dropdown-header,
body.dark-mode .publication-card,
body.dark-mode .comment-widget,
body.dark-mode .publication-form {
  background-color: var(--dm-card-bg) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}

/* Navbar specific styles */
body.dark-mode .navbar {
  background: linear-gradient(135deg, rgba(30, 41, 59, 0.98) 0%, rgba(15, 23, 42, 0.99) 100%) !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.2) !important;
  border-bottom-color: rgba(167, 139, 250, 0.3) !important;
}

body.dark-mode .navbar.scrolled {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
  border-bottom-color: rgba(167, 139, 250, 0.4) !important;
}

/* Dropdown styles */
body.dark-mode .user-dropdown {
  background: var(--dm-card-bg) !important;
  border: 1px solid rgba(167, 139, 250, 0.4) !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3),
              0 8px 24px rgba(0, 0, 0, 0.2) !important;
}

body.dark-mode .user-dropdown::before {
  background: var(--dm-card-bg) !important;
  border-left: 1px solid rgba(167, 139, 250, 0.4) !important;
  border-top: 1px solid rgba(167, 139, 250, 0.4) !important;
}

body.dark-mode .dropdown-header {
  background: linear-gradient(135deg, rgba(167, 139, 250, 0.15) 0%, rgba(139, 92, 246, 0.1) 100%) !important;
  border-bottom: 1px solid rgba(167, 139, 250, 0.4) !important;
}

body.dark-mode .dropdown-item {
  color: var(--dm-text) !important;
}

body.dark-mode .dropdown-item:hover {
  background: rgba(167, 139, 250, 0.15) !important;
}

/* Search bar */
body.dark-mode .navbar-search input {
  background: rgba(30, 41, 59, 0.8) !important;
  border: 2px solid rgba(167, 139, 250, 0.3) !important;
  color: var(--dm-text) !important;
}

body.dark-mode .navbar-search input::placeholder {
  color: var(--dm-text-light) !important;
}

body.dark-mode .navbar-search input:focus {
  background: var(--dm-card-bg) !important;
  border-color: var(--dm-primary) !important;
  box-shadow: 0 0 0 4px rgba(167, 139, 250, 0.3) !important;
}

body.dark-mode .search-icon {
  color: var(--dm-text-light) !important;
}

/* Divider */
body.dark-mode .dropdown-divider {
  background: linear-gradient(90deg, transparent, rgba(167, 139, 250, 0.3), transparent) !important;
}

/* Avatar button */
body.dark-mode .user-avatar-btn {
  background: linear-gradient(var(--dm-card-bg), var(--dm-card-bg)) padding-box,
              linear-gradient(135deg, var(--dm-primary), var(--dm-primary-dark), var(--dm-secondary)) border-box !important;
}

body.dark-mode .user-avatar-btn:hover {
  box-shadow: 0 8px 20px rgba(167, 139, 250, 0.4) !important;
}

/* Dropdown avatar */
body.dark-mode .dropdown-avatar {
  border: 2px solid var(--dm-card-bg) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

/* Notification badge */
body.dark-mode .notification-badge {
  background: linear-gradient(135deg, var(--dm-secondary) 0%, #f5576c 100%) !important;
  box-shadow: 0 2px 8px rgba(216, 180, 254, 0.4) !important;
  color: var(--dm-text-white) !important;
}

/* Tables */
body.dark-mode table {
  background-color: var(--dm-card-bg) !important;
  color: var(--dm-text) !important;
}

body.dark-mode table th,
body.dark-mode table td {
  border-color: var(--dm-border) !important;
}

body.dark-mode table tr:hover {
  background-color: var(--dm-card-hover) !important;
}

/* Modals */
body.dark-mode .modal-content {
  background-color: var(--dm-card-bg) !important;
  color: var(--dm-text) !important;
}

body.dark-mode .modal-header {
  border-color: var(--dm-border) !important;
}

body.dark-mode .modal-footer {
  border-color: var(--dm-border) !important;
}

/* Alerts */
body.dark-mode .alert {
  background-color: var(--dm-card-bg) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}

/* Badges */
body.dark-mode .badge {
  color: var(--dm-text-white) !important;
  background-color: var(--dm-primary) !important;
}

/* Progress bars */
body.dark-mode .progress {
  background-color: var(--dm-card-hover) !important;
}

/* List groups */
body.dark-mode .list-group-item {
  background-color: var(--dm-card-bg) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}

body.dark-mode .list-group-item:hover {
  background-color: var(--dm-card-hover) !important;
}

/* Nav tabs */
body.dark-mode .nav-tabs {
  border-color: var(--dm-border) !important;
}

body.dark-mode .nav-tabs .nav-link {
  color: var(--dm-text-secondary) !important;
}

body.dark-mode .nav-tabs .nav-link:hover {
  border-color: var(--dm-border) !important;
}

body.dark-mode .nav-tabs .nav-link.active {
  background-color: var(--dm-card-bg) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-primary) !important;
}

/* Pagination */
body.dark-mode .page-item .page-link {
  background-color: var(--dm-card-bg) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}

body.dark-mode .page-item .page-link:hover {
  background-color: var(--dm-card-hover) !important;
  border-color: var(--dm-border) !important;
}

body.dark-mode .page-item.active .page-link {
  background-color: var(--dm-primary) !important;
  border-color: var(--dm-primary) !important;
}

/* Dropdowns */
body.dark-mode .dropdown-menu {
  background-color: var(--dm-card-bg) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}

body.dark-mode .dropdown-item {
  color: var(--dm-text) !important;
}

body.dark-mode .dropdown-item:hover {
  background-color: var(--dm-card-hover) !important;
}

/* Images */
body.dark-mode img {
  filter: brightness(0.9) !important;
}

/* Code blocks */
body.dark-mode code {
  background-color: var(--dm-card-hover) !important;
  color: var(--dm-primary) !important;
}

body.dark-mode pre {
  background-color: var(--dm-card-hover) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}

/* Blockquotes */
body.dark-mode blockquote {
  border-color: var(--dm-primary) !important;
  color: var(--dm-text-secondary) !important;
}

/* Horizontal rules */
body.dark-mode hr {
  border-color: var(--dm-border) !important;
}

/* Specific component styles */
body.dark-mode .publication-card {
  background: var(--dm-card-bg) !important;
  border: 1px solid var(--dm-border) !important;
}

body.dark-mode .comment-widget {
  background: var(--dm-card-bg) !important;
  border-top: 1px solid var(--dm-border) !important;
}

body.dark-mode .publication-form {
  background: var(--dm-card-bg) !important;
  border: 1px solid var(--dm-border) !important;
}

body.dark-mode .sidebar {
  background: var(--dm-card-bg) !important;
  border-right: 1px solid var(--dm-border) !important;
}

/* Ensure all existing animations and transitions work in dark mode */
body.dark-mode *,
body.dark-mode *::before,
body.dark-mode *::after {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease !important;
}